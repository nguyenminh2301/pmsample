# é¢„åç ”ç©¶æ ·æœ¬é‡è®¡ç®—å™¨ (Prognostic Research Sample Size Tool)

[![Streamlit App](https://static.streamlit.io/badges/streamlit_badge_black_white.svg)](https://pmsample.streamlit.app/)
[![Python 3.9+](https://img.shields.io/badge/python-3.9%2B-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

è¿™æ˜¯ä¸€æ¬¾ç”¨äºè®¡ç®—ä¸´åºŠé¢„åç ”ç©¶æœ€å°æ ·æœ¬é‡çš„å·¥å…·åŒ…ã€‚ä¸“ä¸ºæ•°æ®ç§‘å­¦å®¶ã€ç»Ÿè®¡å­¦å®¶å’Œä¸´åºŠç ”ç©¶äººå‘˜è®¾è®¡ï¼Œæœ¬åº”ç”¨å®ç°äº†ç»è¿‡éªŒè¯çš„ç»Ÿè®¡æ–¹æ³•ï¼Œç”¨äº **é¢„æµ‹æ¨¡å‹å¼€å‘**ã€**å¤–éƒ¨éªŒè¯**ã€**é¢„åå› ç´ ç ”ç©¶** å’Œ **æ¨¡å‹æ›´æ–°**ã€‚

ğŸ”— **è®¿é—®åº”ç”¨:** [https://pmsample.streamlit.app/](https://pmsample.streamlit.app/)

> **æ³¨æ„**: æœ¬åº”ç”¨çš„ä¸­æ–‡ã€æ—¥æ–‡ã€æ³•æ–‡ã€å¾·æ–‡éƒ¨åˆ†å†…å®¹ç”± AI è¾…åŠ©ç¿»è¯‘å®Œæˆã€‚å¦‚æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·è”ç³»åº”ç”¨ç®¡ç†å‘˜ã€‚

---

## 1. æ¦‚è¿°ä¸ç›®çš„

æœ¬åº”ç”¨æä¾›äº†ä¸€å¥—å·¥å…·æ¥è§£å†³åŒ»å­¦ç ”ç©¶ä¸­æ ·æœ¬é‡è§„åˆ’çš„å¤æ‚è¦æ±‚ã€‚ä¸åŸºæœ¬çš„åŠŸæ•ˆè®¡ç®—å™¨ä¸åŒï¼Œæœ¬å·¥å…·ä¸“æ³¨äº *é¢„åå»ºæ¨¡* çš„å…·ä½“ç»†èŠ‚ï¼Œå…¶ç›®æ ‡é€šå¸¸æ˜¯ç²¾ç¡®ä¼°è®¡é£é™©ï¼ˆæ ¡å‡†å’ŒåŒºåˆ†åº¦ï¼‰ï¼Œè€Œä¸ä»…ä»…æ˜¯å•çº¯çš„å‡è®¾æ£€éªŒã€‚

### ä¸»è¦åŠŸèƒ½

* **æ–¹æ³•è®ºä¸¥è°¨æ€§**: ç®—æ³•ä¸¥æ ¼éµå¾ªåŒè¡Œè¯„å®¡çš„ç»Ÿè®¡æ–‡çŒ® (Riley et al., Hanley & McNeil, Hsieh, et al.)ã€‚
* **éªŒè¯**: æ ¸å¿ƒè®¡ç®—å·²ä¸æƒå¨çš„ R åŒ… (`pmsampsize`, `presize`, `pmvalsampsize`, `sampsizeval`) è¿›è¡Œå¯¹ç…§ï¼Œä»¥ç¡®å‡†ç¡®æ€§ã€‚
* **å¤šè¯­è¨€æ”¯æŒ**: æ”¯æŒè‹±è¯­ã€è¶Šå—è¯­ï¼Œå¹¶éƒ¨åˆ†æ”¯æŒä¸­æ–‡ã€æ—¥æ–‡ã€æ³•æ–‡ã€å¾·æ–‡ï¼Œä¿ƒè¿›å›½é™…åˆä½œã€‚
* **æ•æ„Ÿæ€§åˆ†æ**: é›†æˆæ‰¹å¤„ç†åŠŸèƒ½ï¼Œå…è®¸ç ”ç©¶äººå‘˜è¯„ä¼°åœ¨å„ç§å‡è®¾ï¼ˆä¾‹å¦‚ï¼šå˜åŒ–çš„æ‚£ç—…ç‡æˆ–é¢„æœŸçš„ $R^2$ï¼‰ä¸‹æ ·æœ¬é‡è¦æ±‚çš„å˜åŒ–ã€‚

---

## 2. æ–¹æ³•ç›®å½•

æœ¬åº”ç”¨é‡‡ç”¨åˆ†å±‚ç»“æ„ï¼ˆç±»åˆ« Aï¼šäºŒåˆ†ç±»ç»“æœï¼‰ã€‚

### A. äºŒåˆ†ç±»ç»“æœ (Binary Outcomes)

#### A1. å¿«é€Ÿæ£€æŸ¥ (Quick Checks)

| æ–¹æ³• | æè¿° | ç›®æ ‡ |
| :--- | :--- | :--- |
| **A1.1: æ¯å˜é‡äº‹ä»¶æ•° (EPV)** | ç»éªŒæ³•åˆ™ (å¯å‘å¼)ã€‚ | å¯è¡Œæ€§æ£€æŸ¥ã€‚ |
| **A1.2: åŸºçº¿é£é™©ç²¾åº¦** | ä¼°è®¡å…·æœ‰ç‰¹å®š CI å®½åº¦çš„æ‚£ç—…ç‡ã€‚ | æè¿°æ€§æµè¡Œç—…å­¦ã€‚ |

#### A2. é¢„åå› ç´  (Prognostic Factors)

| æ–¹æ³• | æè¿° | ç›®æ ‡ |
| :--- | :--- | :--- |
| **A2.1: Logistic åŠŸæ•ˆ (Hsieh)** | æ£€æµ‹æ¯”æ•°æ¯” (OR) çš„åŠŸæ•ˆã€‚ | å…³è”æ€§ç ”ç©¶ã€‚ |
| **A2.2: Cox åŠŸæ•ˆ (Schoenfeld)** | æ£€æµ‹é£é™©æ¯” (HR) çš„åŠŸæ•ˆã€‚ | ç”Ÿå­˜åˆ†æã€‚ |

#### A3. æ¨¡å‹å¼€å‘ (Prediction Model Development)

| æ–¹æ³• | æè¿° | ç›®æ ‡ |
| :--- | :--- | :--- |
| **A3.1: è§£ææ³• (Riley)** | **æ¨èã€‚** è°ƒæ•´æ”¶ç¼©ã€ä¹è§‚å’Œç²¾åº¦ã€‚ | æ–°æ¨¡å‹å¼€å‘ã€‚ |
| **A3.2: åŸºäºæ¨¡æ‹Ÿçš„è®¾è®¡** | é’ˆå¯¹å¤æ‚åœºæ™¯æ¨¡æ‹Ÿç‰¹å®š DGMã€‚ | å¼€å‘ (å¤æ‚)ã€‚ |
| **A3.3: è´å¶æ–¯ä¿è¯ (Assurance)** | ä¿è¯æˆåŠŸæ¦‚ç‡çš„ MCMC æ¨¡æ‹Ÿã€‚ | è´å¶æ–¯æ¨¡å‹å¼€å‘ã€‚ |

#### A4. éªŒè¯ä¸æ›´æ–° (Validation / Updating)

| æ–¹æ³• | æè¿° | ç›®æ ‡ |
| :--- | :--- | :--- |
| **A4.1: AUC ç²¾åº¦** | AUC (C-statistic) çš„ CI å®½åº¦ã€‚ | éªŒè¯ (åŒºåˆ†åº¦)ã€‚ |
| **A4.2: å¤–éƒ¨éªŒè¯** | O/Eã€æ ¡å‡†æ–œç‡å’Œ AUC çš„ç²¾åº¦ã€‚ | éªŒè¯ (å®Œæ•´)ã€‚ |
| **A4.3: éªŒè¯æ¨¡æ‹Ÿ** | åŸºäº LP åˆ†å¸ƒçš„æ¨¡æ‹Ÿã€‚ | éªŒè¯ (æ¨¡æ‹Ÿ)ã€‚ |
| **A4.4: æ¨¡å‹æ›´æ–°** | é‡æ–°æ ¡å‡† (æˆªè·/æ–œç‡) çš„æ ·æœ¬é‡ã€‚ | æ¨¡å‹æ›´æ–°ã€‚ |

---

## 3. å®‰è£…ä¸æœ¬åœ°è¿è¡Œ

è¦åœ¨æ‚¨è‡ªå·±çš„åŸºç¡€è®¾æ–½ä¸Šéƒ¨ç½²æ­¤åº”ç”¨ç¨‹åºï¼š

### å…ˆå†³æ¡ä»¶

* Python 3.9 æˆ–æ›´é«˜ç‰ˆæœ¬
* Git

### éƒ¨ç½²æ­¥éª¤

1. **å…‹éš†ä»“åº“ (Clone)**

   ```bash
   git clone https://github.com/nguyenminh2301/pmsample.git
   cd pmsample
   ```

2. **ç¯å¢ƒè®¾ç½®**
   å»ºè®®ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ (virtual environment)ã€‚

   ```bash
   python -m venv .venv
   # Windows:
   .venv\Scripts\activate
   # macOS/Linux:
   source .venv/bin/activate
   ```

3. **å®‰è£…ä¾èµ–**

   ```bash
   pip install -r requirements.txt
   ```

4. **å¯åŠ¨åº”ç”¨**

   ```bash
   streamlit run pmsampsize_app/app.py
   ```

---

## 4. å…è´£å£°æ˜

**ä»…ä¾›å­¦æœ¯å’Œç ”ç©¶ä½¿ç”¨ã€‚**

æœ¬è½¯ä»¶æ˜¯åŒè¡Œè¯„å®¡æ–‡çŒ®ä¸­å‘è¡¨çš„ç»Ÿè®¡æ–¹æ³•çš„å®ç°ã€‚å°½ç®¡å·²å°½ä¸€åˆ‡åŠªåŠ›ç¡®ä¿ç®—æ³•çš„å‡†ç¡®æ€§ï¼Œä½†ä½œè€…å’Œç»´æŠ¤è€…ä¸å¯¹åŸºäºæ­¤å·¥å…·çš„ä»»ä½•ç ”ç©¶çš„è®¾è®¡æˆ–ç»“æœæ‰¿æ‹…è´£ä»»ã€‚

* **ç”¨æˆ·è´£ä»»**: ç”¨æˆ·è´Ÿè´£éªŒè¯è¾“å…¥å‚æ•°å¹¶åœ¨å…¶ç‰¹å®šçš„ä¸´åºŠèƒŒæ™¯ä¸‹è§£é‡Šç»“æœã€‚
* **æ— åŒ»ç–—ä¿è¯**: æœ¬å·¥å…·ä¸æä¾›åŒ»ç–—å»ºè®®ã€‚

---

## 5. å¼•ç”¨

å¦‚æœæ‚¨åœ¨ç ”ç©¶ä¸­ä½¿ç”¨æ­¤å·¥å…·ï¼Œè¯·æŒ‰å¦‚ä¸‹æ–¹å¼å¼•ç”¨ï¼š

> Nguyen, M. (2025). Prognostic Research Sample Size Tool (Version 1.0) [Software]. Available at https://pmsample.streamlit.app/

æˆ–ä½¿ç”¨ BibTeX æ¡ç›®ï¼š

```bibtex
@software{nguyen2025pmsample,
  author = {Nguyen, Minh},
  title = {Prognostic Research Sample Size Tool},
  year = {2025},
  url = {https://pmsample.streamlit.app/},
  version = {1.0}
}
```

---

**ä½œè€…ä¸ç»´æŠ¤:**
Minh Nguyen (minhnt@ump.edu.vn)
Department of Epidemiology, Faculty of Public Health, University of Medicine and Pharmacy at Ho Chi Minh City, Vietnam
(Bá»™ mÃ´n Dá»‹ch tá»… há»c, Khoa Y táº¿ cÃ´ng cá»™ng, Äáº¡i há»c Y DÆ°á»£c TP. Há»“ ChÃ­ Minh, Viá»‡t Nam)
