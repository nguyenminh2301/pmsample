# ì˜ˆí›„ ëª¨ë¸ í‘œë³¸ í¬ê¸° íˆ´í‚· (Prognosis-N)

> *ì„ìƒ ì˜ˆì¸¡ ëª¨ë¸ì˜ ê°œë°œ, ê²€ì¦ ë° ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ íˆ´í‚·ì…ë‹ˆë‹¤.*

[![Streamlit App](https://static.streamlit.io/badges/streamlit_badge_black_white.svg)](https://pmsample.streamlit.app/)
[![Python 3.9+](https://img.shields.io/badge/python-3.9%2B-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

ì„ìƒ ì˜ˆí›„ ì—°êµ¬ì˜ ìµœì†Œ í‘œë³¸ í¬ê¸°ë¥¼ ê³„ì‚°í•˜ê¸° ìœ„í•´ ì„¤ê³„ëœ ì—„ê²©í•˜ê³  ì „ë¬¸ì ì¸ íˆ´í‚·ì…ë‹ˆë‹¤. ë°ì´í„° ê³¼í•™ì, í†µê³„í•™ì ë° ì„ìƒ ì—°êµ¬ìë¥¼ ìœ„í•´ ê°œë°œëœ ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ **ì˜ˆì¸¡ ëª¨ë¸ ê°œë°œ**, **ì™¸ë¶€ ê²€ì¦**, **ì˜ˆí›„ ìš”ì¸ ì—°êµ¬** ë° **ëª¨ë¸ ì—…ë°ì´íŠ¸**ë¥¼ ìœ„í•œ ê²€ì¦ëœ í†µê³„ì  ë°©ë²•ì„ êµ¬í˜„í•©ë‹ˆë‹¤.

ğŸ”— **ë¼ì´ë¸Œ ì• í”Œë¦¬ì¼€ì´ì…˜:** [https://pmsample.streamlit.app/](https://pmsample.streamlit.app/)

---

## 1. ê°œìš” ë° ëª©ì 

ë³¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì˜í•™ ì—°êµ¬ì—ì„œ í‘œë³¸ í¬ê¸° ê³„íšì˜ ë³µì¡í•œ ìš”êµ¬ ì‚¬í•­ì„ í•´ê²°í•˜ê¸° ìœ„í•œ í¬ê´„ì ì¸ ë„êµ¬ ëª¨ìŒì„ ì œê³µí•©ë‹ˆë‹¤. ê¸°ë³¸ ê²€ì •ë ¥ ê³„ì‚°ê¸°ì™€ ë‹¬ë¦¬, ì´ ë„êµ¬ëŠ” ë‹¨ìˆœí•œ ê°€ì„¤ ê²€ì •ë³´ë‹¤ëŠ” ìœ„í—˜(êµì • ë° íŒë³„)ì˜ ì •í™•í•œ ì¶”ì •ì´ ëª©í‘œì¸ *ì˜ˆí›„ ëª¨ë¸ë§*ì˜ êµ¬ì²´ì ì¸ ë‰˜ì•™ìŠ¤ì— ì´ˆì ì„ ë§ì¶¥ë‹ˆë‹¤.

### ì£¼ìš” ê¸°ëŠ¥
*   **ë°©ë²•ë¡ ì  ì—„ê²©ì„±**: ë™ë£Œ ì‹¬ì‚¬ë¥¼ ê±°ì¹œ í†µê³„ ë¬¸í—Œ(Riley et al., Hanley & McNeil, Hsieh, et al.)ì„ ì—„ê²©íˆ ì¤€ìˆ˜í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì„ êµ¬í˜„í•©ë‹ˆë‹¤.
*   **ê²€ì¦(Validation)**: í•µì‹¬ ê³„ì‚°ì€ ì •í™•ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ í™•ë¦½ëœ R íŒ¨í‚¤ì§€(`pmsampsize`, `presize`, `pmvalsampsize`, `sampsizeval`)ì™€ ëŒ€ì¡°í•˜ì—¬ ê²€ì¦ë˜ì—ˆìŠµë‹ˆë‹¤.
*   **ì´ì¤‘ ì–¸ì–´ ì§€ì›**: ì˜ì–´ì™€ ë² íŠ¸ë‚¨ì–´ë¥¼ ì™„ë²½í•˜ê²Œ ì§€ì›í•˜ë©° í•œêµ­ì–´ë¥¼ ë¶€ë¶„ ì§€ì›í•˜ì—¬ êµ­ì œì ì¸ í˜‘ë ¥ì„ ì´‰ì§„í•©ë‹ˆë‹¤.
*   **ë¯¼ê°ë„ ë¶„ì„**: í†µí•© ë°°ì¹˜ ì²˜ë¦¬ë¥¼ í†µí•´ ì—°êµ¬ìëŠ” ë‹¤ì–‘í•œ ê°€ì •(ì˜ˆ: ìœ ë³‘ë¥  ë˜ëŠ” ì˜ˆìƒ $R^2$ì˜ ë³€í™”)ì— ë”°ë¼ í‘œë³¸ í¬ê¸° ìš”êµ¬ ì‚¬í•­ì´ ì–´ë–»ê²Œ ë‹¬ë¼ì§€ëŠ”ì§€ í‰ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## 2. ë°©ë²•ë¡  ì¹´íƒˆë¡œê·¸

ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ê³„ì¸µì ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤ (ì¹´í…Œê³ ë¦¬ A: ì´ì§„ ê²°ê³¼).

### A. ì´ì§„ ê²°ê³¼ (Binary Outcomes)

#### A1. ë¹ ë¥¸ í™•ì¸ (Quick Checks)

| ë°©ë²• | ì„¤ëª… | ëª©í‘œ |
| :--- | :--- | :--- |
| **A1.1: ë³€ìˆ˜ ë‹¹ ì´ë²¤íŠ¸ (EPV)** | ê²½í—˜ì  ê·œì¹™ (íœ´ë¦¬ìŠ¤í‹±). | íƒ€ë‹¹ì„± í™•ì¸. |
| **A1.2: ê¸°ë³¸ ìœ„í—˜ì˜ ì •ë°€ë„** | ì§€ì •ëœ CI í­ìœ¼ë¡œ ìœ ë³‘ë¥  ì¶”ì •. | ê¸°ìˆ  ì—­í•™. |

#### A2. ì˜ˆí›„ ì¸ì (Prognostic Factors)

| ë°©ë²• | ì„¤ëª… | ëª©í‘œ |
| :--- | :--- | :--- |
| **A2.1: ë¡œì§€ìŠ¤í‹± ê²€ì •ë ¥ (Hsieh)** | ëª©í‘œ ì˜¤ì¦ˆë¹„(OR)ë¥¼ íƒì§€í•˜ëŠ” ê²€ì •ë ¥. | ì—°ê´€ì„± ì—°êµ¬. |
| **A2.2: Cox ê²€ì •ë ¥ (Schoenfeld)** | ëª©í‘œ ìœ„í—˜ë¹„(HR)ë¥¼ íƒì§€í•˜ëŠ” ê²€ì •ë ¥. | ìƒì¡´ ë¶„ì„. |

#### A3. ëª¨ë¸ ê°œë°œ (Prediction Model Development)

| ë°©ë²• | ì„¤ëª… | ëª©í‘œ |
| :--- | :--- | :--- |
| **A3.1: ë¶„ì„ì  ì ‘ê·¼ (Riley)** | **ê¶Œì¥.** ìˆ˜ì¶•, ë‚™ê´€ì£¼ì˜, ì •ë°€ë„ ì¡°ì •. | ìƒˆë¡œìš´ ëª¨ë¸ ê°œë°œ. |
| **A3.2: ì‹œë®¬ë ˆì´ì…˜ ê¸°ë°˜ ì„¤ê³„** | ë³µì¡í•œ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ìœ„í•œ DGM ì‹œë®¬ë ˆì´ì…˜. | ê°œë°œ (ë³µì¡í•¨). |
| **A3.3: ë² ì´ì§€ì•ˆ ë³´ì¦** | ì„±ê³µ í™•ë¥ ì´ ë³´ì¥ëœ MCMC ì‹œë®¬ë ˆì´ì…˜. | ë² ì´ì§€ì•ˆ ëª¨ë¸ ê°œë°œ. |

#### A4. ê²€ì¦ ë° ì—…ë°ì´íŠ¸ (Validation / Updating)

| ë°©ë²• | ì„¤ëª… | ëª©í‘œ |
| :--- | :--- | :--- |
| **A4.1: AUC ì •ë°€ë„** | AUC(C-í†µê³„ëŸ‰)ì— ëŒ€í•œ CI ë„ˆë¹„. | ê²€ì¦ (íŒë³„ë ¥). |
| **A4.2: ì™¸ë¶€ ê²€ì¦** | O/E, êµì • ê¸°ìš¸ê¸°, AUCì˜ ì •ë°€ë„. | ê²€ì¦ (ì „ì²´). |
| **A4.3: ê²€ì¦ ì‹œë®¬ë ˆì´ì…˜** | LP ë¶„í¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ì‹œë®¬ë ˆì´ì…˜. | ê²€ì¦ (ì‹œë®¬ë ˆì´ì…˜). |
| **A4.4: ëª¨ë¸ ì—…ë°ì´íŠ¸** | ì¬êµì •(ì ˆí¸/ê¸°ìš¸ê¸°)ì„ ìœ„í•œ í‘œë³¸ í¬ê¸°. | ëª¨ë¸ ì—…ë°ì´íŠ¸. |

---

## 3. ì„¤ì¹˜ ë° ë¡œì»¬ ì‹¤í–‰

ìì‹ ì˜ ì¸í”„ë¼ ë‚´ì— ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•˜ë ¤ë©´:

**ì €ì¥ì†Œ (Repositories):**

* **GitLab (ê¸°ë³¸)**: [`gitlab.com/minhthiennguyen/pmsample`](https://gitlab.com/minhthiennguyen/pmsample.git)
* **GitHub (ë¯¸ëŸ¬)**: [`github.com/nguyenminh2301/pmsample`](https://github.com/nguyenminh2301/pmsample.git)

### ì „ì œ ì¡°ê±´
*   Python 3.9 ì´ìƒ
*   Git

### ë°°í¬ ë‹¨ê³„

1.  **ì €ì¥ì†Œ ë³µì œ**
    ```bash
    git clone https://github.com/nguyenminh2301/pmsample.git
    cd pmsample
    ```

2.  **í™˜ê²½ ì„¤ì •**
    ê°€ìƒ í™˜ê²½(virtual environment)ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
    ```bash
    python -m venv .venv
    # Windows:
    .venv\Scripts\activate
    # macOS/Linux:
    source .venv/bin/activate
    ```

3.  **ì˜ì¡´ì„± ì„¤ì¹˜**
    ```bash
    pip install -r requirements.txt
    ```

4.  **ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰**
    ```bash
    streamlit run pmsampsize_app/app.py
    ```

---

## 4. ë©´ì±… ì¡°í•­ ë° ì±…ì„

**í•™ìˆ  ë° ì—°êµ¬ ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤.**

ì´ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ë™ë£Œ ì‹¬ì‚¬ë¥¼ ê±°ì¹œ ë¬¸í—Œì— ë°œí‘œëœ í†µê³„ì  ë°©ë²•ì„ êµ¬í˜„í•œ ê²ƒì…ë‹ˆë‹¤. ì•Œê³ ë¦¬ì¦˜ì˜ ì •í™•ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ëª¨ë“  ë…¸ë ¥ì„ ê¸°ìš¸ì˜€ìœ¼ë‚˜, ì €ì ë° ìœ ì§€ ê´€ë¦¬ìëŠ” ì´ ë„êµ¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ì—°êµ¬ì˜ ì„¤ê³„ ë˜ëŠ” ê²°ê³¼ì— ëŒ€í•´ ì–´ë– í•œ ì±…ì„ë„ ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.

*   **ì‚¬ìš©ì ì±…ì„**: ì‚¬ìš©ìëŠ” ì…ë ¥ ë§¤ê°œë³€ìˆ˜ë¥¼ í™•ì¸í•˜ê³  íŠ¹ì • ì„ìƒ ì˜ì—­ì˜ ë§¥ë½ ë‚´ì—ì„œ ê²°ê³¼ë¥¼ í•´ì„í•  ì±…ì„ì´ ìˆìŠµë‹ˆë‹¤.
*   **ì„ìƒì  ë³´ì¦ ì—†ìŒ**: ì´ ë„êµ¬ëŠ” ì˜í•™ì  ì¡°ì–¸ì„ ì œê³µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

---

## 5. ì¸ìš©

ì—°êµ¬ì—ì„œ ì´ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ë‹¤ìŒê³¼ ê°™ì´ ì¸ìš©í•´ ì£¼ì‹­ì‹œì˜¤:

> Nguyen, M. (2025). Prognostic Research Sample Size Tool (Version 1.0) [Software]. Available at https://pmsample.streamlit.app/

ë˜ëŠ” BibTeX í•­ëª©ì„ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤:

```bibtex
@software{nguyen2025pmsample,
  author = {Nguyen, Minh},
  title = {Prognostic Research Sample Size Tool},
  year = {2025},
  url = {https://pmsample.streamlit.app/},
  version = {1.0}
}
```

---

**ì €ì ë° ìœ ì§€ ê´€ë¦¬:**
Minh Nguyen (minhnt@ump.edu.vn)
